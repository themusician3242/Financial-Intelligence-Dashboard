<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Financial Intelligence Dashboard</title>

        <link rel="stylesheet" type="text/css" href="css/style.css">
        <link rel="stylesheet" type="text/css" href="css/financial-intelligence.css">
    </head>

    <body>
<!-- ============= Finance ============= -->
<section id="financial-intelligence">
    <h2>Bloomberg Terminal</h2>
    <div id="financial-display"> 
        <div class="financial-charts">
            <div id="tnw-container" class="chart-container">
                <canvas id="tnwChart"></canvas>
            </div>
            <div id="income-container" class="chart-container hidden">
                <canvas id="incomeChart"></canvas>
            </div>
            <div id="expense-container" class="chart-container hidden">
                <canvas id="expenseChart"></canvas>
            </div>
        </div>

    <div id="chart-menu"> 
            <button class="chart-buttons" id="tnw-btn">Total Net Worth</button>
            <button class="chart-buttons" id="income-btn">Income Allocations</button>
            <button class="chart-buttons" id="expense-btn">Expenses Allocations</button>
        </div>
    <div class="grid-container">
        <div class="grid-item">
            <h3>Total Net Worth</h3>
            <h1 id="tnw"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>Average Biweekly Income</h3>
            <h1 id="avg-biweekly-income"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>FHSA</h3>
            <h1 id="fhsa"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>RRSP</h3>
            <h1 id="rrsp"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>Emergency Funds</h3>
            <h1 id="emergency-funds"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>TFSA Investments</h3>
            <h1 id="tfsa-investments"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>Additional Inflows</h3>
            <h1 id="financial-inflows"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>Total Needs Expenses Spending</h3>
            <h1 id="total-needs-spending"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>Total Wants Expenses Spending</h3>
            <h1 id="total-wants-spending"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>Disposable Income</h3>
            <h1 id="disposable-income"> 0 </h1>
        </div>
        <div class="grid-item">
            <h3>Needs Expenses Status</h3>
            <h1 id="needs-expenses-status"> Pending </h1>
        </div>
        <div class="grid-item">
            <h3>Wants Expenses Status</h3>
            <h1 id="wants-expenses-status"> Pending </h1>
        </div>
    </div>
    <div class="financial-buttons">
            <!-- Buttons with event listeners -->
            <button id="view-budget"> View Budget </button>
            <button id="update-financials"> Update Financials </button>
            <button id="open-forecast"> Perform Budget Forecast </button>
    </div>
            <!-- Budget Pop-Up (Hidden by Default) -->
            <div id="budget-popup" class="popup">
            <div class="popup-content">
            <h2>Budget Tracker</h2>
        
            <!-- Budget Table -->
            <table id="budget-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Type</th>
                        <th>Amount</th>
                        <th>Category</th>
                        <th>Date</th>
                        <th>Notes</th>
                    </tr>
                </thead>
            <tbody>
                <!-- Budget items will be dynamically inserted here -->
            </tbody>
        </table>

        <!-- Budget Action Buttons -->
        <div class="budget-buttons">
            <button id="add-budget">Add Budget Item</button>
            <button id="edit-budget">Edit Budget Item</button>
            <button id="delete-budget">Delete Budget Item</button>
            <button id="pull-budget-financials">Pull Financials</button>
        </div>

        <button id="close-popup">Close</button>
    </div>
</div>

<div id="pull-financials-popup" class="popup"> 
    <h2> Where would you like to navigate? </h2>

    <div class="nav-container">
    <a href="https://www.rbc.com/about-rbc.html" target="_blank">
        <div class="nav-item quick-access" style="border-color: lightgreen; box-shadow: 0 0 10px rgb(164, 255, 246);">
                <img src="https://download.logo.wine/logo/Royal_Bank_of_Canada/Royal_Bank_of_Canada-Logo.wine.png" alt="RBC">
                <span>RBC</span>
        </div>
        </a>

        <a href="https://www.cibc.com/en/personal-banking.html" target="_blank">
            <div class="nav-item quick-access" style="border-color: lightgreen; box-shadow: 0 0 10px rgb(164, 255, 246);">
                <img src="https://logos-world.net/wp-content/uploads/2021/05/CIBC-Logo-2021-present.png" alt="CIBC">
                    <span>CIBC</span>
            </div>
        </a>
        </div>
    <button id="close-pull-financials"> Close </button>
</div>

<!-- ðŸ“Œ Popup: Add Budget -->
<div id="add-popup" class="popup">
    <div class="popup-content">
        <h2 id="popup-title-add">Add Budget Item</h2>
        
        <label for="budget-type-add">Type:</label>
        <select id="budget-type-add">
            <option value="Income">Main Income</option>
            <option value="Inflow">Additional Income</option>
            <option value="Needs">Needs</option>
            <option value="Wants">Wants</option>
        </select>
        
        <label for="budget-amount-add">Amount:</label>
        <input type="number" id="budget-amount-add">
        
        <label for="budget-category-add">Category:</label>
        <input type="text" id="budget-category-add">
        
        <label for="budget-date-add">Date:</label>
        <input type="date" id="budget-date-add">
        
        <label for="budget-notes-add">Notes:</label>
        <input type="text" id="budget-notes-add">

        <button id="save-budget-add">Save</button>
        <button id="cancel-add">Cancel</button>
    </div>
</div>

<!-- ðŸ“Œ Popup: Edit Budget -->
<div id="edit-popup" class="popup">
    <div class="popup-content">
        <h2 id="popup-title-edit">Edit Budget Item</h2>
        
        <label for="budget-type-edit">Type:</label>
        <select id="budget-type-edit">
            <option value="Income">Main Income</option>
            <option value="Inflow">Additional Income</option>
            <option value="Needs">Needs</option>
            <option value="Wants">Wants</option>
        </select>
        
        <label for="budget-amount-edit">Amount:</label>
        <input type="number" id="budget-amount-edit">
        
        <label for="budget-category-edit">Category:</label>
        <input type="text" id="budget-category-edit">
        
        <label for="budget-date-edit">Date:</label>
        <input type="date" id="budget-date-edit">
        
        <label for="budget-notes-edit">Notes:</label>
        <input type="text" id="budget-notes-edit">

        <button id="save-budget-edit">Save</button>
        <button id="cancel-edit">Cancel</button>
    </div>
</div>

<!-- ðŸ“Œ Popup 2: Budget for Editing (Enter ID) -->
<div id="confirm-popup-edit" class="popup">
    <div class="popup-content">
        <h2>Enter Budget ID</h2>
        <input type="number" id="budget-id-input-edit"> <!-- âœ… Unique ID -->
        <button id="confirm-edit">Confirm</button>
        <button id="close-popup-edit">Close</button>
    </div>
</div>

<!-- ðŸ“Œ Popup 3: Budget for Deleting (Enter ID) -->
<div id="confirm-popup-delete" class="popup">
    <div class="popup-content">
        <h2>Enter Budget ID</h2>
        <input type="number" id="budget-id-input-delete"> <!-- âœ… Unique ID -->
        <button id="confirm-delete">Confirm</button>
        <button id="close-popup-delete">Close</button>
    </div>
</div>

<!-- Perform Budget Forecast Popups -->
<!-- Main -->
<div id="perform-forecast" class="popup">
    <div class="popup-content forecast">
        <h2>Perform Budget Forecast</h2>
        <div class="forecast-container">
            <!-- Financial Cards -->
            <div class="forecast-cards">
                <div> <h2> Total Net Worth: </h2> <span id="forecast-tnw">$0</span></div>
                <div> <h2>Average Biweekly Income: </h2> <span id="forecast-abi">$0</span></div>
                <div> <h2>Average Needs Spending: </h2><span id="forecast-ans">$0</span></div>
                <div> <h2>Average Wants Spending: </h2> <span id="forecast-aws">$0</span></div>
                <div> <h2> Status: </h2> <span id="forecast-status">Pending</span></div>
            </div>

        <!-- Small TNW Graph -->
        <div class="chart-container">
            <canvas id="forecastChart"></canvas>
        </div>

        <div class="forecast-cards">
            <div> <h2>Number of Biweekly Periods: </h2><span id="forecast-prds">0</span></div>
            <div> <h2>Starting Pay Period </h2><span id="forecast-start-date">-</span></div>
            <div> <h2>Forecasted Pay Period</h2><span id="forecast-end-date">-</span></div>

        </div>

    </div>

        <!-- Forecast Buttons -->
        <div class="forecast-buttons">
            <button id="forecast-income-btn">Forecast Income</button>
            <button id="forecast-expense-btn">Forecast Expenses</button>
            <button id="reset-forecast">Reset</button>
            <button id="close-forecast">Close</button>
        </div>
    </div>
</div>

<!-- âœ… Forecast Income Form -->
<div id="forecast-income-popup" class="popup">
    <div class="popup-content">
        <h2>Forecast Income</h2>

        <!-- âœ… Wrap input fields and checkboxes in a flex container -->
        <div class="forecast-input-group">
            <label for="forecast-income-amount">Enter Income:</label>
            <input type="number" id="forecast-income-amount">

            <label for="forecast-date">Forecast Date:</label>
            <input type="date" id="forecast-date">
        </div>

        <!-- âœ… Checkboxes placed beside inputs -->
        <div class="forecast-checkbox-group">
            <label><input type="checkbox" id="use-existing-abi"> Use Existing Average Biweekly Income</label>
            <label><input type="checkbox" id="subtract-ans"> Subtract Average Needs Spending</label>
            <label><input type="checkbox" id="subtract-aws"> Subtract Average Wants Spending</label>
        </div>

        <!-- âœ… Buttons -->
        <div class="forecast-buttons">
            <button id="confirm-income">Confirm</button>
            <button id="reset-income">Reset</button>
            <button id="close-income">Close</button>
        </div>
    </div>
</div>


<!-- ========== Forecast Expenses Popup ========== -->
<div id="forecast-expense-popup" class="popup">
    <div class="popup-content">
        <h2>Forecast Expenses</h2>

        <!-- Expense Table -->
        <table id="forecast-expense-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Type</th>
                    <th>Amount</th>
                    <th>Category</th>
                    <th>Date</th>
                    <th>Notes</th>
                    <th>Recurring?</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <!-- Buttons -->
         <div class="forecast-buttons">
            <button id="add-forecast-expense">Add Expense Item</button>
            <button id="edit-forecast-expense">Edit Expense Item</button>
            <button id="delete-forecast-expense">Delete Expense Item</button>
            <button id="confirm-expense">Confirm</button>
            <button id="close-expense">Close</button>
        </div>
    </div>
</div>

<!-- Expense Data Popups -->
<div id="forecast-confirm-expense-add" class="popup forecast-expense">
    <div class="popup-content">
        <h2 id="popup-title-expense-add">Add Expenses</h2>
        
        <label for="expense-type-add">Type:</label>
        <select id="expense-type-add">
            <option value="Needs">Needs</option>
            <option value="Wants">Wants</option>
        </select>
        
        <label for="expense-amount-add">Amount:</label>
        <input type="number" id="expense-amount-add">
        
        <label for="expense-category-add">Category:</label>
        <input type="text" id="expense-category-add">
        
        <label for="expense-date-add">Date:</label>
        <input type="date" id="expense-date-add">
        
        <label for="expense-notes-add">Notes:</label>
        <input type="text" id="expense-notes-add">

        <label for="expense-recurring-add">Recurring?</label>
        <select id="expense-recurring-add">
            <option value="Weekly">Weekly</option>
            <option value="Biweekly">Biweekly</option>
            <option value="Monthly">Monthly</option>
            <option value="Annually">Annually</option>
        </select>

        <button id="save-expense-add">Save</button>
        <button id="cancel-expense-add">Cancel</button>
    </div>
</div>

<div id="forecast-confirm-expense-edit" class="popup forecast-expense">
    <div class="popup-content">
        <h2 id="popup-title-expense-edit">Edit Expenses</h2>
        
        <label for="expense-type-edit">Type:</label>
        <select id="expense-type-edit">
            <option value="Needs">Needs</option>
            <option value="Wants">Wants</option>
        </select>
        
        <label for="expense-amount-edit">Amount:</label>
        <input type="number" id="expense-amount-edit">
        
        <label for="expense-category-edit">Category:</label>
        <input type="text" id="expense-category-edit">
        
        <label for="expense-date-edit">Date:</label>
        <input type="date" id="expense-date-edit">
        
        <label for="expense-notes-edit">Notes:</label>
        <input type="text" id="expense-notes-edit">

        <label for="expense-recurring-edit">Recurring?</label>
        <select id="expense-recurring-edit">
            <option value="Weekly">Weekly</option>
            <option value="Biweekly">Biweekly</option>
            <option value="Monthly">Monthly</option>
            <option value="Annually">Annually</option>
        </select>
        <button id="save-expense-edit">Save</button>
        <button id="cancel-expense-edit">Cancel</button>
    </div>
</div>

<!-- ID Popups -->
<div id="confirm-expense-id-edit" class="popup forecast-expense">
    <div class="popup-content">
        <h2>Enter Expense ID</h2>
        <input type="number" id="expense-id-input-edit"> <!-- âœ… Unique ID -->
        <button id="confirm-expense-edit-button">Confirm</button>
        <button id="close-popup-expense-edit-button">Close</button>
    </div>
</div>
<div id="confirm-expense-id-delete" class="popup forecast-expense">
    <div class="popup-content">
        <h2>Enter Expense ID</h2>
        <input type="number" id="expense-id-input-delete"> <!-- âœ… Unique ID -->
        <button id="confirm-expense-delete-button">Confirm</button>
        <button id="close-popup-expense-delete-button">Close</button>
    </div>
</div>
</section>
</body>

</html>
